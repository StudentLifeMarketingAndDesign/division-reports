{"version":3,"sources":["formstone/core.js","formstone/mediaquery.js","formstone/navigation.js","formstone/swap.js","app.js"],"names":["factory","define","amd","jQuery","$","setupPlugin","namespace","Formstone","Plugins","initialized","methods","_setup","call","document","namespaceProperties","type","globalProps","customProps","i","_props","raw","hasOwnProperty","replace","setBrowserPrefixes","transitionEvents","WebkitTransition","MozTransition","OTransition","transition","transitionProperties","transformProperties","transform","MozTransform","OTransform","msTransform","webkitTransform","transitionEvent","transitionProperty","transformProperty","testDiv","createElement","style","support","Events","transitionEnd","onWindowResize","windowWidth","$window","width","windowHeight","height","ResizeTimer","Functions","startTimer","Debounce","handleWindowResize","ResizeHandlers","callback","window","handleRAF","raf","requestAnimationFrame","RAFHandlers","sortPriority","a","b","parseInt","priority","$ViewportMeta","ViewportMetaOriginal","ViewportMetaLocked","Win","this","Doc","Core","Version","DontConflict","Conflicts","fn","$document","$body","fallbackWidth","fallbackHeight","userAgent","navigator","vendor","opera","isFirefox","test","isChrome","isSafari","isMobile","isIEMobile","isFirefoxMobile","file","File","FileList","FileReader","history","pushState","replaceState","matchMedia","msMatchMedia","pointer","cancelAnimationFrame","touch","DocumentTouch","killEvent","e","immediate","preventDefault","stopPropagation","stopImmediatePropagation","error","killGesture","lockViewport","plugin_namespace","ViewportLocks","isEmptyObject","ViewportLocked","length","attr","append","on","gestureChange","gestureStart","gestureEnd","unlockViewport","remove","off","timer","time","interval","clearTimer","setInterval","setTimeout","clearInterval","clearTimeout","sortAsc","sortDesc","decodeEntities","string","el","innerHTML","value","parseQueryString","url","params","parts","slice","indexOf","split","part","$Ready","Deferred","Classes","base","element","beforeUnload","blur","change","click","dblClick","drag","dragEnd","dragEnter","dragLeave","dragOver","dragStart","drop","focus","focusIn","focusOut","input","keyDown","keyPress","keyUp","load","mouseDown","mouseEnter","mouseLeave","mouseMove","mouseOut","mouseOver","mouseUp","panStart","pan","panEnd","resize","scaleStart","scaleEnd","scale","scroll","select","swipe","touchCancel","touchEnd","touchLeave","touchMove","touchStart","prototype","NoConflict","Plugin","settings","initialize","options","$element","count","hasOptions","$targets","$postTargets","extend","defaults","eq","getData","guid","rawGuid","classes","locals","data","$el","dotGuid","addClass","namespaceClean","_construct","apply","concat","Array","arguments","add","_postConstruct","destroy","functions","iterate","_destruct","removeClass","removeData","delegateWidget","method","_method","delegateUtility","utilities","_initialize","namespaceDash","m","p1","p2","toUpperCase","events","noop","_resize","_delegate","widget","push","sort","_raf","then","resolve","nativeMatchMedia","hasClass","clickTouchStart","MQStrings","Defaults","merge","minWidth","maxWidth","minHeight","maxHeight","j","MQMatches","k","mq","Infinity","unit","addListener","onStateChange","bind","key","media","Window","mqKey","createKey","Bindings","active","enter","leave","onBindingChange","binding","matches","unbind","setState","State","state","check","isMax","$Window","trigger","mqChange","mqkey","event","text","getState","setup","$Locks","construct","handleGuid","RawClasses","handle","isToggle","open","gravity","baseClass","typeClass","join","gravityClass","classGroup","theme","customClass","Namespace","content","handleClasses","thisClasses","nav","contentClasses","contentClassesOpen","$nav","$handle","$content","$animate","cacheLabel","navTabIndex","id","ariaId","onOpen","onClose","onEnable","onDisable","onFocus","onBlur","fsSwap","target","enabled","is","onKeyup","destruct","removeAttr","html","originalLabel","restoreLabel","clearLocks","close","enable","disable","keyCode","originalEvent","one","label","labels","addLocks","closed","animated","lock","c","l","$target","linked","d","group","$swaps","n","collapse","filter","fsMediaquery","h","f","not","index","activate","g","deactivate","o","navigation"],"mappings":"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","file":"main.min.js","sourcesContent":["/**\r\n * @plugin\r\n * @name Core\r\n * @description Formstone Library core. Required for all plugins.\r\n */\r\n\r\n/* global define */\r\n/* global ga */\r\n\r\n(function(factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine([ \"jquery\" ], factory);\r\n\t} else {\r\n\t\tfactory(jQuery);\r\n\t}\r\n}(function($) {\r\n\r\n\t\"use strict\";\r\n\r\n\t// Namespace\r\n\r\n\tvar Win  = typeof window !== \"undefined\" ? window : this,\r\n\t\tDoc  = Win.document,\r\n\t\tCore = function() {\r\n\t\t\tthis.Version = '@version';\r\n\t\t\tthis.Plugins = {};\r\n\r\n\t\t\tthis.DontConflict   = false;\r\n\t\t\tthis.Conflicts      = {\r\n\t\t\t\tfn: {}\r\n\t\t\t};\r\n\t\t\tthis.ResizeHandlers = [];\r\n\t\t\tthis.RAFHandlers    = [];\r\n\r\n\t\t\t// Globals\r\n\r\n\t\t\tthis.window               = Win;\r\n\t\t\tthis.$window              = $(Win);\r\n\t\t\tthis.document             = Doc;\r\n\t\t\tthis.$document            = $(Doc);\r\n\t\t\tthis.$body                = null;\r\n\r\n\t\t\tthis.windowWidth          = 0;\r\n\t\t\tthis.windowHeight         = 0;\r\n\t\t\tthis.fallbackWidth        = 1024;\r\n\t\t\tthis.fallbackHeight       = 768;\r\n\t\t\tthis.userAgent            = window.navigator.userAgent || window.navigator.vendor || window.opera;\r\n\t\t\tthis.isFirefox            = /Firefox/i.test(this.userAgent);\r\n\t\t\tthis.isChrome             = /Chrome/i.test(this.userAgent);\r\n\t\t\tthis.isSafari             = /Safari/i.test(this.userAgent) && !this.isChrome;\r\n\t\t\tthis.isMobile             = /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test( this.userAgent );\r\n\t\t\tthis.isIEMobile           = /IEMobile/i.test(this.userAgent);\r\n\t\t\tthis.isFirefoxMobile      = (this.isFirefox && this.isMobile);\r\n\t\t\tthis.transform            = null;\r\n\t\t\tthis.transition           = null;\r\n\r\n\t\t\tthis.support = {\r\n\t\t\t\tfile          : !!(window.File && window.FileList && window.FileReader),\r\n\t\t\t\thistory       : !!(window.history && window.history.pushState && window.history.replaceState),\r\n\t\t\t\tmatchMedia    : !!(window.matchMedia || window.msMatchMedia),\r\n\t\t\t\tpointer       : !!(window.PointerEvent),\r\n\t\t\t\traf           : !!(window.requestAnimationFrame && window.cancelAnimationFrame),\r\n\t\t\t\ttouch         : !!((\"ontouchstart\" in window) || window.DocumentTouch && document instanceof window.DocumentTouch),\r\n\t\t\t\ttransition    : false,\r\n\t\t\t\ttransform     : false\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tFunctions = {\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name killEvent\r\n\t\t\t * @description Stops event action and bubble.\r\n\t\t\t * @param e [object] \"Event data\"\r\n\t\t\t */\r\n\r\n\t\t\tkillEvent: function(e, immediate) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\r\n\r\n\t\t\t\t\tif (immediate) {\r\n\t\t\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch(error) {\r\n\t\t\t\t\t//\r\n\t\t\t\t}\r\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @method private\n\t\t\t * @name killGesture\n\t\t\t * @description Stops gesture event action.\n\t\t\t * @param e [object] \"Event data\"\n\t\t\t */\n\n\t\t\tkillGesture: function(e) {\n\t\t\t\ttry {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}  catch(error) {\n\t\t\t\t\t//\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @method private\n\t\t\t * @name lockViewport\n\t\t\t * @description Unlocks the viewport, preventing getsures.\n\t\t\t */\n\n\t\t\tlockViewport: function(plugin_namespace) {\n\t\t\t\tViewportLocks[plugin_namespace] = true;\n\n\t\t\t\tif (!$.isEmptyObject(ViewportLocks) && !ViewportLocked) {\n\t\t\t\t\tif ($ViewportMeta.length) {\n\t\t\t\t\t\t$ViewportMeta.attr(\"content\", ViewportMetaLocked);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$ViewportMeta = $(\"head\").append('<meta name=\"viewport\" content=\"' + ViewportMetaLocked + '\">');\n\t\t\t\t\t}\n\n\t\t\t\t\tFormstone.$body.on(Events.gestureChange, Functions.killGesture)\n\t\t\t\t\t\t\t\t   .on(Events.gestureStart, Functions.killGesture)\n\t\t\t\t\t\t\t\t   .on(Events.gestureEnd, Functions.killGesture);\n\n\t\t\t\t\tViewportLocked = true;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * @method private\n\t\t\t * @name unlockViewport\n\t\t\t * @description Unlocks the viewport, allowing getsures.\n\t\t\t */\n\n\t\t\tunlockViewport: function(plugin_namespace) {\n\t\t\t\tif ($.type( ViewportLocks[plugin_namespace] ) !== 'undefined') {\n\t\t\t\t\tdelete ViewportLocks[plugin_namespace];\n\t\t\t\t}\n\n\t\t\t\tif ($.isEmptyObject(ViewportLocks) && ViewportLocked) {\n\t\t\t\t\tif ($ViewportMeta.length) {\n\t\t\t\t\t\tif (ViewportMetaOriginal) {\n\t\t\t\t\t\t\t$ViewportMeta.attr(\"content\", ViewportMetaOriginal);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$ViewportMeta.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tFormstone.$body.off(Events.gestureChange)\n\t\t\t\t\t\t\t\t   .off(Events.gestureStart)\n\t\t\t\t\t\t\t\t   .off(Events.gestureEnd);\n\n\t\t\t\t\tViewportLocked = false;\n\t\t\t\t}\n\t\t\t},\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name startTimer\r\n\t\t\t * @description Starts an internal timer.\r\n\t\t\t * @param timer [int] \"Timer ID\"\r\n\t\t\t * @param time [int] \"Time until execution\"\r\n\t\t\t * @param callback [function] \"Function to execute\"\r\n\t\t\t * @return [int] \"Timer ID\"\r\n\t\t\t */\r\n\r\n\t\t\tstartTimer: function(timer, time, callback, interval) {\r\n\t\t\t\tFunctions.clearTimer(timer);\r\n\r\n\t\t\t\treturn (interval) ? setInterval(callback, time) : setTimeout(callback, time);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name clearTimer\r\n\t\t\t * @description Clears an internal timer.\r\n\t\t\t * @param timer [int] \"Timer ID\"\r\n\t\t\t */\r\n\r\n\t\t\tclearTimer: function(timer, interval) {\r\n\t\t\t\tif (timer) {\r\n\t\t\t\t\tif (interval) {\r\n\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclearTimeout(timer);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttimer = null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name sortAsc\r\n\t\t\t * @description Sorts an array (ascending).\r\n\t\t\t * @param a [mixed] \"First value\"\r\n\t\t\t * @param b [mixed] \"Second value\"\r\n\t\t\t * @return Difference between second and first values\r\n\t\t\t */\r\n\r\n\t\t\tsortAsc: function(a, b) {\r\n\t\t\t\treturn (parseInt(a, 10) - parseInt(b, 10));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name sortDesc\r\n\t\t\t * @description Sorts an array (descending).\r\n\t\t\t * @param a [mixed] \"First value\"\r\n\t\t\t * @param b [mixed] \"Second value\"\r\n\t\t\t * @return Difference between second and first values\r\n\t\t\t */\r\n\r\n\t\t\tsortDesc: function(a, b) {\r\n\t\t\t\treturn (parseInt(b, 10) - parseInt(a, 10));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name decodeEntities\r\n\t\t\t * @description Decodes HTML.\r\n\t\t\t * @param string [string] \"String to decode\"\r\n\t\t\t * @return Decoded string\r\n\t\t\t */\r\n\r\n\t\t\tdecodeEntities: function(string) {\r\n\t\t\t\t// http://stackoverflow.com/a/1395954\r\n\t\t\t\tvar el = Formstone.document.createElement(\"textarea\");\r\n\t\t\t\tel.innerHTML = string;\r\n\r\n\t\t\t\treturn el.value;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name parseGetParams\r\n\t\t\t * @description Returns keyed object containing all GET query parameters\r\n\t\t\t * @param url [string] \"URL to parse\"\r\n\t\t\t * @return [object] \"Keyed query params\"\r\n\t\t\t */\r\n\r\n\t\t\tparseQueryString: function(url) {\r\n\t\t\t\tvar params = {},\r\n\t\t\t\t\tparts = url.slice( url.indexOf(\"?\") + 1 ).split(\"&\");\r\n\r\n\t\t\t\tfor (var i = 0; i < parts.length; i++) {\r\n\t\t\t\t\tvar part = parts[i].split(\"=\");\r\n\t\t\t\t\tparams[ part[0] ] = part[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn params;\r\n\t\t    }\r\n\t\t},\r\n\r\n\t\tFormstone = new Core(),\r\n\r\n\t\t// Deferred ready\r\n\r\n\t\t$Ready = $.Deferred(),\r\n\r\n\t\t// Classes\r\n\r\n\t\tClasses = {\r\n\t\t\tbase                 : \"{ns}\",\r\n\t\t\telement              : \"{ns}-element\"\r\n\t\t},\r\n\r\n\t\t// Events\r\n\r\n\t\tEvents = {\r\n\t\t\tnamespace            : \".{ns}\",\r\n\t\t\tbeforeUnload         : \"beforeunload.{ns}\",\r\n\t\t\tblur                 : \"blur.{ns}\",\r\n\t\t\tchange               : \"change.{ns}\",\r\n\t\t\tclick                : \"click.{ns}\",\r\n\t\t\tdblClick             : \"dblclick.{ns}\",\r\n\t\t\tdrag                 : \"drag.{ns}\",\r\n\t\t\tdragEnd              : \"dragend.{ns}\",\r\n\t\t\tdragEnter            : \"dragenter.{ns}\",\r\n\t\t\tdragLeave            : \"dragleave.{ns}\",\r\n\t\t\tdragOver             : \"dragover.{ns}\",\r\n\t\t\tdragStart            : \"dragstart.{ns}\",\r\n\t\t\tdrop                 : \"drop.{ns}\",\r\n\t\t\terror                : \"error.{ns}\",\r\n\t\t\tfocus                : \"focus.{ns}\",\r\n\t\t\tfocusIn              : \"focusin.{ns}\",\r\n\t\t\tfocusOut             : \"focusout.{ns}\",\r\n\t\t\tgestureChange        : \"gesturechange.{ns}\",\r\n\t\t\tgestureStart         : \"gesturestart.{ns}\",\r\n\t\t\tgestureEnd           : \"gestureend.{ns}\",\r\n\t\t\tinput                : \"input.{ns}\",\r\n\t\t\tkeyDown              : \"keydown.{ns}\",\r\n\t\t\tkeyPress             : \"keypress.{ns}\",\r\n\t\t\tkeyUp                : \"keyup.{ns}\",\r\n\t\t\tload                 : \"load.{ns}\",\r\n\t\t\tmouseDown            : \"mousedown.{ns}\",\r\n\t\t\tmouseEnter           : \"mouseenter.{ns}\",\r\n\t\t\tmouseLeave           : \"mouseleave.{ns}\",\r\n\t\t\tmouseMove            : \"mousemove.{ns}\",\r\n\t\t\tmouseOut             : \"mouseout.{ns}\",\r\n\t\t\tmouseOver            : \"mouseover.{ns}\",\r\n\t\t\tmouseUp              : \"mouseup.{ns}\",\r\n\t\t\tpanStart             : \"panstart.{ns}\",\r\n\t\t\tpan                  : \"pan.{ns}\",\r\n\t\t\tpanEnd               : \"panend.{ns}\",\r\n\t\t\tresize               : \"resize.{ns}\",\r\n\t\t\tscaleStart           : \"scalestart.{ns}\",\r\n\t\t\tscaleEnd             : \"scaleend.{ns}\",\r\n\t\t\tscale                : \"scale.{ns}\",\r\n\t\t\tscroll               : \"scroll.{ns}\",\r\n\t\t\tselect               : \"select.{ns}\",\r\n\t\t\tswipe                : \"swipe.{ns}\",\r\n\t\t\ttouchCancel          : \"touchcancel.{ns}\",\r\n\t\t\ttouchEnd             : \"touchend.{ns}\",\r\n\t\t\ttouchLeave           : \"touchleave.{ns}\",\r\n\t\t\ttouchMove            : \"touchmove.{ns}\",\r\n\t\t\ttouchStart           : \"touchstart.{ns}\"\r\n\t\t},\n\n\t\tResizeTimer    = null,\n\t\tDebounce       = 20,\n\n\t\t$ViewportMeta,\n\t\tViewportMetaOriginal,\n\t\tViewportMetaLocked,\n\t\tViewportLocks     = [],\n\t\tViewportLocked    = false;\n\r\n\t/**\r\n\t * @method\r\n\t * @name NoConflict\r\n\t * @description Resolves plugin namespace conflicts\r\n\t * @example Formstone.NoConflict();\r\n\t */\r\n\r\n\tCore.prototype.NoConflict = function() {\r\n\t\tFormstone.DontConflict = true;\r\n\r\n\t\tfor (var i in Formstone.Plugins) {\r\n\t\t\tif (Formstone.Plugins.hasOwnProperty(i)) {\r\n\t\t\t\t$[i]    = Formstone.Conflicts[i];\r\n\t\t\t\t$.fn[i] = Formstone.Conflicts.fn[i];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name Plugin\r\n\t * @description Builds a plugin and registers it with jQuery.\r\n\t * @param namespace [string] \"Plugin namespace\"\r\n\t * @param settings [object] \"Plugin settings\"\r\n\t * @return [object] \"Plugin properties. Includes `defaults`, `classes`, `events`, `functions`, `methods` and `utilities` keys\"\r\n\t * @example Formstone.Plugin(\"namespace\", { ... });\r\n\t */\r\n\r\n\tCore.prototype.Plugin = function(namespace, settings) {\r\n\t\tFormstone.Plugins[namespace] = (function(namespace, settings) {\r\n\r\n\t\t\tvar namespaceDash  = \"fs-\" + namespace,\r\n\t\t\t\tnamespaceDot   = \"fs.\" + namespace,\r\n\t\t\t\tnamespaceClean = \"fs\"  + namespace.replace(/(^|\\s)([a-z])/g, function(m, p1, p2) { return p1 + p2.toUpperCase(); });\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name initialize\r\n\t\t\t * @description Creates plugin instance by adding base classname, creating data and scoping a _construct call.\r\n\t\t\t * @param options [object] <{}> \"Instance options\"\r\n\t\t\t */\r\n\r\n\t\t\tfunction initialize(options) {\r\n\t\t\t\t// Maintain Chain\r\n\r\n\t\t\t\tvar hasOptions = $.type(options) === \"object\",\r\n\t\t\t\t\t$targets = this,\r\n\t\t\t\t\t$postTargets = $(),\r\n\t\t\t\t\t$element,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tcount;\r\n\r\n\t\t\t\t// Extend Defaults\r\n\r\n\t\t\t\toptions = $.extend(true, {}, settings.defaults || {}, (hasOptions ? options : {}));\r\n\r\n\t\t\t\t// All targets\r\n\r\n\t\t\t\tfor (i = 0, count = $targets.length; i < count; i++) {\r\n\t\t\t\t\t$element = $targets.eq(i);\r\n\r\n\t\t\t\t\t// Gaurd Against Exiting Instances\r\n\r\n\t\t\t\t\tif (!getData($element)) {\r\n\r\n\t\t\t\t\t\t// Extend w/ Local Options\r\n\r\n\t\t\t\t\t\tvar guid    = \"__\" + settings.guid++,\r\n\t\t\t\t\t\t\trawGuid = settings.classes.raw.base + guid,\r\n\t\t\t\t\t\t\tlocals  = $element.data(namespace + \"-options\"),\r\n\t\t\t\t\t\t\tdata    = $.extend(true, {\r\n\t\t\t\t\t\t\t\t$el     : $element,\r\n\t\t\t\t\t\t\t\tguid    : guid,\r\n\t\t\t\t\t\t\t\trawGuid : rawGuid,\r\n\t\t\t\t\t\t\t\tdotGuid : \".\" + rawGuid\r\n\t\t\t\t\t\t\t}, options, ($.type(locals) === \"object\" ? locals : {}) );\r\n\r\n\t\t\t\t\t\t// Cache Instance\r\n\r\n\t\t\t\t\t\t$element.addClass(settings.classes.raw.element)\r\n\t\t\t\t\t\t        .data(namespaceClean, data);\r\n\r\n\t\t\t\t\t\t// Constructor\r\n\r\n\t\t\t\t\t\tsettings.methods._construct.apply($element, [ data ].concat(Array.prototype.slice.call(arguments, (hasOptions ? 1 : 0) )));\r\n\r\n\t\t\t\t\t\t// Post Constructor\r\n\r\n\t\t\t\t\t\t$postTargets = $postTargets.add($element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Post targets\r\n\r\n\t\t\t\tfor (i = 0, count = $postTargets.length; i < count; i++) {\r\n\t\t\t\t\t$element = $postTargets.eq(i);\r\n\r\n\t\t\t\t\t// Post Constructor\r\n\r\n\t\t\t\t\tsettings.methods._postConstruct.apply($element, [ getData($element) ]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $targets;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name destroy\r\n\t\t\t * @description Removes plugin instance by scoping a _destruct call, and removing the base classname and data.\r\n\t\t\t * @param data [object] <{}> \"Instance data\"\r\n\t\t\t */\r\n\r\n\t\t\t/**\r\n\t\t\t * @method widget\r\n\t\t\t * @name destroy\r\n\t\t\t * @description Removes plugin instance.\r\n\t\t\t * @example $(\".target\").{ns}(\"destroy\");\r\n\t\t\t */\r\n\r\n\t\t\tfunction destroy(data) {\r\n\t\t\t\tsettings.functions.iterate.apply(this, [ settings.methods._destruct ].concat(Array.prototype.slice.call(arguments, 1)));\r\n\r\n\t\t\t\tthis.removeClass(settings.classes.raw.element)\r\n\t\t\t\t\t.removeData(namespaceClean);\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name getData\r\n\t\t\t * @description Creates class selector from text.\r\n\t\t\t * @param $element [jQuery] \"Target jQuery object\"\r\n\t\t\t * @return [object] \"Instance data\"\r\n\t\t\t */\r\n\r\n\t\t\tfunction getData($element) {\r\n\t\t\t\treturn $element.data(namespaceClean);\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name delegateWidget\r\n\t\t\t * @description Delegates public methods.\r\n\t\t\t * @param method [string] \"Method to execute\"\r\n\t\t\t * @return [jQuery] \"jQuery object\"\r\n\t\t\t */\r\n\r\n\t\t\tfunction delegateWidget(method) {\r\n\r\n\t\t\t\t// If jQuery object\r\n\r\n\t\t\t\tif (this instanceof $) {\r\n\r\n\t\t\t\t\tvar _method = settings.methods[method];\r\n\r\n\t\t\t\t\t// Public method OR false\r\n\r\n\t\t\t\t\tif ($.type(method) === \"object\" || !method) {\r\n\r\n\t\t\t\t\t\t// Initialize\r\n\r\n\t\t\t\t\t\treturn initialize.apply(this, arguments);\r\n\t\t\t\t\t} else if (_method && method.indexOf(\"_\") !== 0) {\r\n\r\n\t\t\t\t\t\t// Wrap Public Methods\r\n\r\n\t\t\t\t\t\treturn settings.functions.iterate.apply(this, [ _method ].concat(Array.prototype.slice.call(arguments, 1)));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name delegateUtility\r\n\t\t\t * @description Delegates utility methods.\r\n\t\t\t * @param method [string] \"Method to execute\"\r\n\t\t\t */\r\n\r\n\t\t\tfunction delegateUtility(method) {\r\n\r\n\t\t\t\t// public utility OR utility init OR false\r\n\r\n\t\t\t\tvar _method = settings.utilities[method] || settings.utilities._initialize || false;\r\n\r\n\t\t\t\tif (_method) {\r\n\r\n\t\t\t\t\t// Wrap Utility Methods\r\n\r\n\t\t\t\t\treturn _method.apply(window, Array.prototype.slice.call(arguments, ($.type(method) === \"object\" ? 0 : 1) ));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method utility\r\n\t\t\t * @name defaults\r\n\t\t\t * @description Extends plugin default settings; effects instances created hereafter.\r\n\t\t\t * @param options [object] <{}> \"New plugin defaults\"\r\n\t\t\t * @example $.{ns}(\"defaults\", { ... });\r\n\t\t\t */\r\n\r\n\t\t\tfunction defaults(options) {\r\n\t\t\t\tsettings.defaults = $.extend(true, settings.defaults, options || {});\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * @method private\r\n\t\t\t * @name iterate\r\n\t\t\t * @description Loops scoped function calls over jQuery object with instance data as first parameter.\r\n\t\t\t * @param func [function] \"Function to execute\"\r\n\t\t\t * @return [jQuery] \"jQuery object\"\r\n\t\t\t */\r\n\r\n\t\t\tfunction iterate(fn) {\r\n\t\t\t\tvar $targets = this;\r\n\r\n\t\t\t\tfor (var i = 0, count = $targets.length; i < count; i++) {\r\n\t\t\t\t\tvar $element = $targets.eq(i),\r\n\t\t\t\t\t\tdata = getData($element) || {};\r\n\r\n\t\t\t\t\tif ($.type(data.$el) !== \"undefined\") {\r\n\t\t\t\t\t\tfn.apply($element, [ data ].concat(Array.prototype.slice.call(arguments, 1)));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $targets;\r\n\t\t\t}\r\n\r\n\t\t\t// Locals\r\n\r\n\t\t\tsettings.initialized = false;\r\n\t\t\tsettings.priority    = settings.priority || 10;\r\n\r\n\t\t\t// Namespace Classes & Events\r\n\r\n\t\t\tsettings.classes   = namespaceProperties(\"classes\", namespaceDash, Classes, settings.classes);\r\n\t\t\tsettings.events    = namespaceProperties(\"events\",  namespace,     Events,  settings.events);\r\n\r\n\t\t\t// Extend Functions\r\n\r\n\t\t\tsettings.functions = $.extend({\r\n\t\t\t\tgetData    : getData,\r\n\t\t\t\titerate    : iterate\r\n\t\t\t}, Functions, settings.functions);\r\n\r\n\t\t\t// Extend Methods\r\n\r\n\t\t\tsettings.methods = $.extend(true, {\r\n\r\n\t\t\t\t// Private Methods\r\n\r\n\t\t\t\t_setup         : $.noop,    // Document ready\r\n\t\t\t\t_construct     : $.noop,    // Constructor\r\n\t\t\t\t_postConstruct : $.noop,    // Post Constructor\r\n\t\t\t\t_destruct      : $.noop,    // Destructor\r\n\t\t\t\t_resize        : false,     // Window resize\r\n\r\n\t\t\t\t// Public Methods\r\n\r\n\t\t\t\tdestroy        : destroy\r\n\r\n\t\t\t}, settings.methods);\r\n\r\n\t\t\t// Extend Utilities\r\n\r\n\t\t\tsettings.utilities = $.extend(true, {\r\n\r\n\t\t\t\t// Private Utilities\r\n\r\n\t\t\t\t_initialize    : false,    // First Run\r\n\t\t\t\t_delegate      : false,    // Custom Delegation\r\n\r\n\t\t\t\t// Public Utilities\r\n\r\n\t\t\t\tdefaults       : defaults\r\n\r\n\t\t\t}, settings.utilities);\r\n\r\n\t\t\t// Register Plugin\r\n\r\n\t\t\t// Widget\r\n\r\n\t\t\tif (settings.widget) {\r\n\r\n\t\t\t\t// Store conflicting namesapaces\r\n\t\t\t\tFormstone.Conflicts.fn[namespace] = $.fn[namespace];\r\n\r\n\t\t\t\t// Widget Delegation: $(\".target\").fsPlugin(\"method\", ...);\r\n\t\t\t\t$.fn[namespaceClean] = delegateWidget;\r\n\r\n\t\t\t\tif (!Formstone.DontConflict) {\r\n\r\n\t\t\t\t\t// $(\".target\").plugin(\"method\", ...);\r\n\t\t\t\t\t$.fn[namespace] = $.fn[namespaceClean];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Utility\r\n\r\n\t\t\t\tFormstone.Conflicts[namespace] = $[namespace];\r\n\r\n\t\t\t\t// Utility Delegation: $.fsPlugin(\"method\", ... );\r\n\t\t\t\t$[namespaceClean] = settings.utilities._delegate || delegateUtility;\r\n\r\n\t\t\t\tif (!Formstone.DontConflict) {\r\n\r\n\t\t\t\t\t// $.plugin(\"method\", ... );\r\n\t\t\t\t\t$[namespace] = $[namespaceClean];\r\n\t\t\t\t}\r\n\r\n\t\t\t// Run Setup\r\n\r\n\t\t\tsettings.namespace      = namespace;\r\n\t\t\tsettings.namespaceClean = namespaceClean;\r\n\r\n\t\t\tsettings.guid = 0;\r\n\r\n\t\t\t// Resize handler\r\n\r\n\t\t\tif (settings.methods._resize) {\r\n\t\t\t\tFormstone.ResizeHandlers.push({\r\n\t\t\t\t\tnamespace: namespace,\r\n\t\t\t\t\tpriority: settings.priority,\r\n\t\t\t\t\tcallback: settings.methods._resize\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Sort handlers on push\r\n\t\t\t\tFormstone.ResizeHandlers.sort(sortPriority);\r\n\t\t\t}\r\n\r\n\t\t\t// RAF handler\r\n\r\n\t\t\tif (settings.methods._raf) {\r\n\t\t\t\tFormstone.RAFHandlers.push({\r\n\t\t\t\t\tnamespace: namespace,\r\n\t\t\t\t\tpriority: settings.priority,\r\n\t\t\t\t\tcallback: settings.methods._raf\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Sort handlers on push\r\n\t\t\t\tFormstone.RAFHandlers.sort(sortPriority);\r\n\t\t\t}\r\n\r\n\t\t\treturn settings;\r\n\t\t})(namespace, settings);\r\n\r\n\t\t// Setup, catches lazy-loaded components, ensures order\r\n\r\n\t\t$Ready.then(function() {\r\n\t\t\tsetupPlugin(namespace);\r\n\t\t});\r\n\r\n\t\treturn Formstone.Plugins[namespace];\r\n\t};\r\n\r\n\t// Setup Plugins\r\n\r\n\tfunction setupPlugin(namespace) {\r\n\t\tif (!Formstone.Plugins[namespace].initialized) {\r\n\t\t\tFormstone.Plugins[namespace].methods._setup.call(document);\r\n\t\t\tFormstone.Plugins[namespace].initialized = true;\r\n\t\t}\r\n\t}\r\n\r\n\t// Namespace Properties\r\n\r\n\tfunction namespaceProperties(type, namespace, globalProps, customProps) {\r\n\t\tvar _props = {\r\n\t\t\t\traw: {}\r\n\t\t\t},\r\n\t\t\ti;\r\n\r\n\t\tcustomProps = customProps || {};\r\n\r\n\t\tfor (i in customProps) {\r\n\t\t\tif (customProps.hasOwnProperty(i)) {\r\n\t\t\t\tif (type === \"classes\") {\r\n\r\n\t\t\t\t\t// Custom classes\r\n\t\t\t\t\t_props.raw[ customProps[i] ] = namespace + \"-\" + customProps[i];\r\n\t\t\t\t\t_props[ customProps[i] ]     = \".\" + namespace + \"-\" + customProps[i];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Custom events\r\n\t\t\t\t\t_props.raw[ i ] = customProps[i];\r\n\t\t\t\t\t_props[ i ]     = customProps[i] + \".\" + namespace;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i in globalProps) {\r\n\t\t\tif (globalProps.hasOwnProperty(i)) {\r\n\t\t\t\tif (type === \"classes\") {\r\n\r\n\t\t\t\t\t// Global classes\r\n\t\t\t\t\t_props.raw[ i ] = globalProps[i].replace(/{ns}/g, namespace);\r\n\t\t\t\t\t_props[ i ]     = globalProps[i].replace(/{ns}/g, \".\" + namespace);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Global events\r\n\t\t\t\t\t_props.raw[ i ] = globalProps[i].replace(/.{ns}/g, \"\");\r\n\t\t\t\t\t_props[ i ]     = globalProps[i].replace(/{ns}/g, namespace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn _props;\r\n\t}\r\n\r\n\t// Set Browser Prefixes\r\n\r\n\tfunction setBrowserPrefixes() {\r\n\t\tvar transitionEvents = {\r\n\t\t\t\t\"WebkitTransition\"    : \"webkitTransitionEnd\",\r\n\t\t\t\t\"MozTransition\"       : \"transitionend\",\r\n\t\t\t\t\"OTransition\"         : \"otransitionend\",\r\n\t\t\t\t\"transition\"          : \"transitionend\"\r\n\t\t\t},\r\n\t\t\ttransitionProperties = [\r\n\t\t\t\t\"transition\",\r\n\t\t\t\t\"-webkit-transition\"\r\n\t\t\t],\r\n\t\t\ttransformProperties = {\r\n\t\t\t\t'transform'          : 'transform',\r\n\t\t\t\t'MozTransform'       : '-moz-transform',\r\n\t\t\t\t'OTransform'         : '-o-transform',\r\n\t\t\t\t'msTransform'        : '-ms-transform',\r\n\t\t\t\t'webkitTransform'    : '-webkit-transform'\r\n\t\t\t},\r\n\t\t\ttransitionEvent       = \"transitionend\",\r\n\t\t\ttransitionProperty    = \"\",\r\n\t\t\ttransformProperty     = \"\",\r\n\t\t\ttestDiv               = document.createElement(\"div\"),\r\n\t\t\ti;\r\n\r\n\t\tfor (i in transitionEvents) {\r\n\t\t\tif (transitionEvents.hasOwnProperty(i) && i in testDiv.style) {\r\n\t\t\t\ttransitionEvent = transitionEvents[i];\r\n\t\t\t\tFormstone.support.transition = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tEvents.transitionEnd = transitionEvent + \".{ns}\";\r\n\r\n\t\tfor (i in transitionProperties) {\r\n\t\t\tif (transitionProperties.hasOwnProperty(i) && transitionProperties[i] in testDiv.style) {\r\n\t\t\t\ttransitionProperty = transitionProperties[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tFormstone.transition = transitionProperty;\r\n\r\n\t\tfor (i in transformProperties) {\r\n\t\t\tif (transformProperties.hasOwnProperty(i) && transformProperties[i] in testDiv.style) {\r\n\t\t\t\tFormstone.support.transform = true;\r\n\t\t\t\ttransformProperty = transformProperties[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tFormstone.transform = transformProperty;\r\n\t}\r\n\r\n\t// Window resize\n\r\n\tfunction onWindowResize() {\r\n\t\tFormstone.windowWidth  = Formstone.$window.width();\r\n\t\tFormstone.windowHeight = Formstone.$window.height();\r\n\r\n\t\tResizeTimer = Functions.startTimer(ResizeTimer, Debounce, handleWindowResize);\r\n\t}\r\n\r\n\tfunction handleWindowResize() {\r\n\t\tfor (var i in Formstone.ResizeHandlers) {\r\n\t\t\tif (Formstone.ResizeHandlers.hasOwnProperty(i)) {\r\n\t\t\t\tFormstone.ResizeHandlers[i].callback.call(window, Formstone.windowWidth, Formstone.windowHeight);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tFormstone.$window.on(\"resize.fs\", onWindowResize);\r\n\tonWindowResize();\r\n\r\n\t// RAF\r\n\r\n\tfunction handleRAF() {\r\n\t\tif (Formstone.support.raf) {\r\n\t\t\tFormstone.window.requestAnimationFrame(handleRAF);\r\n\r\n\t\t\tfor (var i in Formstone.RAFHandlers) {\r\n\t\t\t\tif (Formstone.RAFHandlers.hasOwnProperty(i)) {\r\n\t\t\t\t\tFormstone.RAFHandlers[i].callback.call(window);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleRAF();\r\n\r\n\t// Sort Priority\r\n\r\n\tfunction sortPriority(a, b) {\r\n\t\treturn (parseInt(a.priority) - parseInt(b.priority));\r\n\t}\r\n\r\n\t// Document Ready\n\r\n\t$(function() {\r\n\t\tFormstone.$body = $(\"body\");\n\n\t\t// Viewport\n\t\t$ViewportMeta = $('meta[name=\"viewport\"]');\n\t\tViewportMetaOriginal = ($ViewportMeta.length) ? $ViewportMeta.attr(\"content\") : false;\n\t\tViewportMetaLocked   = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0';\n\r\n\t\t$Ready.resolve();\r\n\r\n\t\t// ie8 fallback support\r\n\t\tFormstone.support.nativeMatchMedia = Formstone.support.matchMedia && !$(\"html\").hasClass(\"no-matchmedia\");\n\t});\r\n\r\n\t// Custom Events\r\n\r\n\tEvents.clickTouchStart = Events.click + \" \" + Events.touchStart;\r\n\r\n\t// Browser Prefixes\r\n\r\n\tsetBrowserPrefixes();\r\n\r\n\twindow.Formstone = Formstone;\r\n\r\n\treturn Formstone;\r\n\r\n})\r\n\r\n);\r\n","/* global define */\r\n\r\n(function(factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine([\r\n\t\t\t\"jquery\",\r\n\t\t\t\"./core\"\r\n\t\t], factory);\r\n\t} else {\r\n\t\tfactory(jQuery, Formstone);\r\n\t}\r\n}(function($, Formstone) {\r\n\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name initialize\r\n\t * @description Initializes plugin.\r\n\t * @param opts [object] \"Plugin options\"\r\n\t */\r\n\r\n\tfunction initialize(options) {\r\n\t\toptions = options || {};\r\n\r\n\t\t// Build Media Queries\r\n\r\n\t\tfor (var i in MQStrings) {\r\n\t\t\tif (MQStrings.hasOwnProperty(i)) {\r\n\t\t\t\tDefaults[i] = (options[i]) ? $.merge(options[i], Defaults[i]) : Defaults[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tDefaults = $.extend(Defaults, options);\r\n\r\n\t\t// Sort\r\n\r\n\t\tDefaults.minWidth.sort(Functions.sortDesc);\r\n\t\tDefaults.maxWidth.sort(Functions.sortAsc);\r\n\t\tDefaults.minHeight.sort(Functions.sortDesc);\r\n\t\tDefaults.maxHeight.sort(Functions.sortAsc);\r\n\r\n\t\t// Bind Media Query Matches\r\n\r\n\t\tfor (var j in MQStrings) {\r\n\t\t\tif (MQStrings.hasOwnProperty(j)) {\r\n\t\t\t\tMQMatches[j] = {};\r\n\t\t\t\tfor (var k in Defaults[j]) {\r\n\t\t\t\t\tif (Defaults[j].hasOwnProperty(k)) {\r\n\t\t\t\t\t\tvar mq = window.matchMedia( \"(\" + MQStrings[j] + \": \" + (Defaults[j][k] === Infinity ? 100000 : Defaults[j][k]) + Defaults.unit + \")\" );\r\n\t\t\t\t\t\tmq.addListener( onStateChange );\r\n\t\t\t\t\t\tMQMatches[j][ Defaults[j][k] ] = mq;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Initial Trigger\r\n\r\n\t\tonStateChange();\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name bind\r\n\t * @description Binds callbacks to media query matching.\r\n\t * @param key [string] \"Instance key\"\r\n\t * @param media [string] \"Media query to match\"\r\n\t * @param data [object] \"Object containing 'enter' and 'leave' callbacks\"\r\n\t * @example $.mediaquery(\"bind\", \"key\", \"(min-width: 500px)\", { ... });\r\n\t */\r\n\r\n\tfunction bind(key, media, data) {\r\n\t\tvar mq = Window.matchMedia(media),\r\n\t\t\tmqKey = createKey(mq.media);\r\n\r\n\t\tif (!Bindings[mqKey]) {\r\n\t\t\tBindings[mqKey] = {\r\n\t\t\t\tmq        : mq,\r\n\t\t\t\tactive    : true,\r\n\t\t\t\tenter     : {},\r\n\t\t\t\tleave     : {}\r\n\t\t\t};\r\n\r\n\t\t\tBindings[mqKey].mq.addListener(onBindingChange);\r\n\t\t}\r\n\r\n\t\tfor (var i in data) {\r\n\t\t\tif (data.hasOwnProperty(i) && Bindings[mqKey].hasOwnProperty(i)) {\r\n\t\t\t\tBindings[mqKey][i][key] = data[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar binding    = Bindings[mqKey],\r\n\t\t\tmatches    = mq.matches;\r\n\r\n\t\tif (matches && binding[Events.enter].hasOwnProperty(key)) {\r\n\t\t\tbinding[Events.enter][key].apply(mq);\r\n\t\t\tbinding.active = true;\r\n\t\t} else if (!matches && binding[Events.leave].hasOwnProperty(key)) {\r\n\t\t\tbinding[Events.leave][key].apply(mq);\r\n\t\t\tbinding.active = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name unbind\r\n\t * @description Unbinds all callbacks from media query.\r\n\t * @param key [string] \"Instance key\"\r\n\t * @param media [string] \"Media query to unbind; defaults to all\"\r\n\t * @example $.mediaquery(\"unbind\", \"key\");\r\n\t */\r\n\r\n\tfunction unbind(key, media) {\r\n\t\tif (!key) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (media) {\r\n\t\t\t// unbind specific query\r\n\t\t\tvar mqKey = createKey(media);\r\n\r\n\t\t\tif (Bindings[mqKey]) {\r\n\t\t\t\tif (Bindings[mqKey].enter[key]) {\r\n\t\t\t\t\tdelete Bindings[mqKey].enter[key];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (Bindings[mqKey].leave[key]) {\r\n\t\t\t\t\tdelete Bindings[mqKey].leave[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// unbind all\r\n\t\t\tfor (var i in Bindings) {\r\n\t\t\t\tif (Bindings.hasOwnProperty(i)) {\r\n\t\t\t\t\tif (Bindings[i].enter[key]) {\r\n\t\t\t\t\t\tdelete Bindings[i].enter[key];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (Bindings[i].leave[key]) {\r\n\t\t\t\t\t\tdelete Bindings[i].leave[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name setState\r\n\t * @description Sets current media query match state.\r\n\t */\r\n\r\n\tfunction setState() {\r\n\t\tState = {\r\n\t\t\tunit: Defaults.unit\r\n\t\t};\r\n\r\n\t\tfor (var i in MQStrings) {\r\n\t\t\tif (MQStrings.hasOwnProperty(i)) {\r\n\r\n\t\t\t\tfor (var j in MQMatches[i]) {\r\n\t\t\t\t\tif (MQMatches[i].hasOwnProperty(j)) {\r\n\r\n\t\t\t\t\t\tvar state = (j === \"Infinity\") ? Infinity : parseInt(j, 10),\r\n\t\t\t\t\t\t\tcheck = (MQStrings[i].indexOf(\"width\") > -1) ? Formstone.fallbackWidth : Formstone.fallbackHeight,\r\n\t\t\t\t\t\t\tisMax = i.indexOf(\"max\") > -1;\r\n\r\n\t\t\t\t\t\tif (Formstone.support.nativeMatchMedia) {\r\n\t\t\t\t\t\t\t// Native\r\n\t\t\t\t\t\t\tif (MQMatches[i][j].matches) {\r\n\t\t\t\t\t\t\t\tif (isMax) {\r\n\t\t\t\t\t\t\t\t\tif (!State[i] || state < State[i]) {\r\n\t\t\t\t\t\t\t\t\t\tState[i] = state;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (!State[i] || state > State[i]) {\r\n\t\t\t\t\t\t\t\t\t\tState[i] = state;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Fallback\r\n\t\t\t\t\t\t\tif (isMax) {\r\n\t\t\t\t\t\t\t\tif (!State[i] && state > check) {\r\n\t\t\t\t\t\t\t\t\tState[i] = state;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ( (!State[i] && State[i] !== 0) || (state > State[i] && state < check) ) {\r\n\t\t\t\t\t\t\t\t\tState[i] = state;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onStateChange\r\n\t * @description Handles media query changes.\r\n\t */\r\n\r\n\tfunction onStateChange() {\r\n\t\tsetState();\r\n\r\n\t\t$Window.trigger(Events.mqChange, [ State ]);\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onBindingChange\r\n\t * @description Handles a binding's media query change.\r\n\t */\r\n\r\n\tfunction onBindingChange(mq) {\r\n\t\tvar mqkey      = createKey(mq.media),\r\n\t\t\tbinding    = Bindings[mqkey],\r\n\t\t\tmatches    = mq.matches,\r\n\t\t\tevent      = matches ? Events.enter : Events.leave;\r\n\r\n\t\tif (binding && (binding.active || (!binding.active && matches) ) ) {\r\n\t\t\tfor (var i in binding[event]) {\r\n\t\t\t\tif (binding[event].hasOwnProperty(i)) {\r\n\t\t\t\t\tbinding[event][i].apply(binding.mq);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tbinding.active = true;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name createKey\r\n\t * @description Creates valid object key from string.\r\n\t * @param text [String] \"String to create key from\"\r\n\t * @return [string] Valid object key\r\n\t */\r\n\r\n\tfunction createKey(text) {\r\n\t\treturn text.replace(/[^a-z0-9\\s]/gi, '').replace(/[_\\s]/g, '').replace(/^\\s+|\\s+$/g,'');\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name state\r\n\t * @description Returns the current state.\r\n\t * @return [object] \"Current state object\"\r\n\t * @example var state = $.mediaquery(\"state\");\r\n\t */\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name getState\r\n\t * @description Returns the current state.\r\n\t * @return [object] \"Current state object\"\r\n\t */\r\n\r\n\tfunction getState() {\r\n\t\treturn State;\r\n\t}\r\n\r\n\t/**\r\n\t * @plugin\r\n\t * @name Media Query\r\n\t * @description A jQuery plugin for responsive media query events.\r\n\t * @type utility\r\n\t * @main mediaquery.js\r\n\t * @dependency jQuery\r\n\t * @dependency core.js\r\n\t */\r\n\r\n\tvar Plugin = Formstone.Plugin(\"mediaquery\", {\r\n\t\t\tutilities: {\r\n\t\t\t\t_initialize    : initialize,\r\n\t\t\t\tstate          : getState,\r\n\t\t\t\tbind           : bind,\r\n\t\t\t\tunbind         : unbind\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * @events\r\n\t\t\t * @event mqchange.mediaquery \"Change to a media query match; Triggered on window\"\r\n\t\t\t */\r\n\r\n\t\t\tevents: {\r\n\t\t\t\tmqChange    : \"mqchange\"\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t/**\r\n\t\t * @options\r\n\t\t * @param minWidth [array] <[ 0 ]> \"Array of min-widths\"\r\n\t\t * @param maxWidth [array] <[ Infinity ]> \"Array of max-widths\"\r\n\t\t * @param minHeight [array] <[ 0 ]> \"Array of min-heights\"\r\n\t\t * @param maxHeight [array] <[ Infinity ]> \"Array of max-heights\"\r\n\t\t * @param unit [string] <'px'> \"Unit to use when matching widths and heights\"\r\n\t\t */\r\n\r\n\t\tDefaults = {\r\n\t\t\tminWidth     : [ 0 ],\r\n\t\t\tmaxWidth     : [ Infinity ],\r\n\t\t\tminHeight    : [ 0 ],\r\n\t\t\tmaxHeight    : [ Infinity ],\r\n\t\t\tunit         : \"px\"\r\n\t\t},\r\n\r\n\t\t// Raw events for switch\r\n\t\tEvents = $.extend(Plugin.events, {\r\n\t\t\tenter       : \"enter\",\r\n\t\t\tleave       : \"leave\"\r\n\t\t}),\r\n\r\n\t\t// Localize References\r\n\r\n\t\t$Window        = Formstone.$window,\r\n\t\tWindow         = $Window[0],\r\n\r\n\t\tFunctions      = Plugin.functions,\r\n\r\n\t\t// Internal\r\n\r\n\t\tState          = null,\r\n\t\tBindings       = [],\r\n\t\tMQMatches      = {},\r\n\t\tMQStrings      = {\r\n\t\t\tminWidth:     \"min-width\",\r\n\t\t\tmaxWidth:     \"max-width\",\r\n\t\t\tminHeight:    \"min-height\",\r\n\t\t\tmaxHeight:    \"max-height\"\r\n\t\t};\r\n\r\n})\r\n\r\n);","/* global define */\r\n\r\n(function(factory) {\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine([\r\n\t\t\t\"jquery\",\r\n\t\t\t\"./core\",\r\n\t\t\t\"./mediaquery\",\r\n\t\t\t\"./swap\"\r\n\t\t], factory);\r\n\t} else {\r\n\t\tfactory(jQuery, Formstone);\r\n\t}\r\n}(function($, Formstone) {\r\n\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name setup\r\n\t * @description Setup plugin.\r\n\t */\r\n\r\n\tfunction setup() {\r\n\t\t// $Body  = Formstone.$body;\r\n\t\t$Locks = $(\"html, body\");\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name construct\r\n\t * @description Builds instance.\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction construct(data) {\r\n\t\t// guid\r\n\t\tdata.handleGuid   = RawClasses.handle + data.guid;\r\n\r\n\t\tdata.isToggle     = (data.type === \"toggle\");\r\n\t\tdata.open         = false;\r\n\r\n\t\tif (data.isToggle) {\r\n\t\t\tdata.gravity  = \"\";\r\n\t\t}\r\n\r\n\t\tvar baseClass     = RawClasses.base,\r\n\t\t\ttypeClass     = [baseClass, data.type].join(\"-\"),\r\n\t\t\tgravityClass  = data.gravity ? [typeClass, data.gravity].join(\"-\") : \"\",\r\n\t\t\tclassGroup    = [data.rawGuid, data.theme, data.customClass].join(\" \");\r\n\r\n\t\tdata.handle       = this.data(Namespace + \"-handle\");\r\n\t\tdata.content      = this.data(Namespace + \"-content\");\r\n\r\n\t\tdata.handleClasses = [\r\n\t\t\tRawClasses.handle,\r\n\t\t\tRawClasses.handle.replace(baseClass, typeClass),\r\n\t\t\tgravityClass ? RawClasses.handle.replace(baseClass, gravityClass) : \"\",\r\n\t\t\tdata.handleGuid,\r\n\t\t\tclassGroup\r\n\t\t].join(\" \");\r\n\r\n\t\tdata.thisClasses = [\r\n\t\t\tRawClasses.nav.replace(baseClass, typeClass),\r\n\t\t\tgravityClass ? RawClasses.nav.replace(baseClass, gravityClass) : \"\",\r\n\t\t\tclassGroup\r\n\t\t];\r\n\r\n\t\tdata.contentClasses = [\r\n\t\t\tRawClasses.content.replace(baseClass, typeClass),\r\n\t\t\tclassGroup\r\n\t\t].join(\" \");\r\n\r\n\t\tdata.contentClassesOpen = [\r\n\t\t\tgravityClass ? RawClasses.content.replace(baseClass, gravityClass) : \"\",\r\n\t\t\tRawClasses.open\r\n\t\t].join(\" \");\r\n\r\n\t\t// DOM\r\n\r\n\t\tdata.$nav        = this.addClass(data.thisClasses.join(\" \")).attr(\"role\", \"navigation\");\r\n\t\tdata.$handle     = $(data.handle).addClass(data.handleClasses);\r\n\t\tdata.$content    = $(data.content).addClass(data.contentClasses);\r\n\t\tdata.$animate    = $().add(data.$nav).add(data.$content);\r\n\r\n\t\tcacheLabel(data);\r\n\r\n\t\t// Tab index\r\n\r\n\t\tdata.navTabIndex = data.$nav.attr(\"tabindex\");\r\n\t\tdata.$nav.attr(\"tabindex\", -1);\r\n\r\n\t\t// Aria\r\n\r\n\t\tdata.id = this.attr(\"id\");\r\n\r\n\t\tif (data.id) {\r\n\t\t\tdata.ariaId = data.id;\r\n\t\t} else {\r\n\t\t\tdata.ariaId = data.rawGuid;\r\n\t\t\tthis.attr(\"id\", data.ariaId);\r\n\t\t}\r\n\r\n\t\t// toggle\r\n\r\n\t\tdata.$handle.attr(\"data-swap-target\", data.dotGuid)\r\n\t\t\t\t\t.attr(\"data-swap-linked\", data.handleGuid)\r\n\t\t\t\t\t.attr(\"data-swap-group\", RawClasses.base)\r\n\t\t\t\t\t.attr(\"tabindex\", 0)\r\n\t\t\t\t\t.on(\"activate.swap\" + data.dotGuid, data, onOpen)\r\n\t\t\t\t\t.on(\"deactivate.swap\" + data.dotGuid, data, onClose)\r\n\t\t\t\t\t.on(\"enable.swap\" + data.dotGuid, data, onEnable)\r\n\t\t\t\t\t.on(\"disable.swap\" + data.dotGuid, data, onDisable)\r\n\t\t\t\t\t.on(Events.focus + data.dotGuid, data, onFocus)\r\n\t\t\t\t\t.on(Events.blur + data.dotGuid, data, onBlur)\r\n\t\t\t\t\t.fsSwap({\r\n\t\t\t\t\t\tmaxWidth: data.maxWidth,\r\n\t\t\t\t\t\tclasses: {\r\n\t\t\t\t\t\t\ttarget  : data.dotGuid,\r\n\t\t\t\t\t\t\tenabled : Classes.enabled,\r\n\t\t\t\t\t\t\tactive  : Classes.open,\r\n\t\t\t\t\t\t\traw: {\r\n\t\t\t\t\t\t\t\ttarget  : data.rawGuid,\r\n\t\t\t\t\t\t\t\tenabled : RawClasses.enabled,\r\n\t\t\t\t\t\t\t\tactive  : RawClasses.open\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\tif (!data.$handle.is(\"a, button\")) {\r\n\t\t\tdata.$handle.on(Events.keyPress + data.dotGuid, data, onKeyup);\r\n\t\t}\r\n\r\n\t\t// $Body.on( [ Events.focus + data.dotGuid, Events.focusIn + data.dotGuid ].join(\" \"), data, onDocumentFocus);\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name destruct\r\n\t * @description Tears down instance.\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction destruct(data) {\r\n\t\tdata.$content.removeClass( [data.contentClasses, data.contentClassesOpen].join(\" \") )\r\n\t\t\t\t\t .off(Events.namespace);\r\n\r\n\t\tdata.$handle.removeAttr(\"aria-controls\")\r\n\t\t\t\t\t.removeAttr(\"aria-expanded\")\r\n\t\t\t\t\t.removeAttr(\"data-swap-target\")\r\n\t\t\t\t\t.removeData(\"swap-target\")\r\n\t\t\t\t\t.removeAttr(\"data-swap-linked\")\r\n\t\t\t\t\t.removeAttr(\"data-swap-group\")\r\n\t\t\t\t\t.removeData(\"swap-linked\")\r\n\t\t\t\t\t.removeData(\"tabindex\")\r\n\t\t\t\t\t.removeClass(data.handleClasses)\r\n\t\t\t\t\t.off(data.dotGuid)\r\n\t\t\t\t\t.html(data.originalLabel)\r\n\t\t\t\t\t.fsSwap(\"destroy\");\r\n\r\n\t\tdata.$nav.attr(\"tabindex\", data.navTabIndex);\r\n\r\n\t\t// $Body.off(data.dotGuid);\r\n\r\n\t\trestoreLabel(data);\r\n\r\n\t\tclearLocks(data);\r\n\r\n\t\tthis.removeAttr(\"aria-hidden\")\r\n\t\t\t.removeClass(data.thisClasses.join(\" \"))\r\n\t\t\t.off(Events.namespace);\r\n\r\n\t\tif (this.attr(\"id\") === data.rawGuid) {\r\n\t\t\tthis.removeAttr(\"id\");\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name open\r\n\t * @description Opens instance.\r\n\t * @example $(\".target\").navigation(\"open\");\r\n\t */\r\n\r\n\tfunction open(data) {\r\n\t\tdata.$handle.fsSwap(\"activate\");\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name close\r\n\t * @description Closes instance.\r\n\t * @example $(\".target\").navigation(\"close\");\r\n\t */\r\n\r\n\tfunction close(data) {\r\n\t\tdata.$handle.fsSwap(\"deactivate\");\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name enable\r\n\t * @description Enables instance.\r\n\t * @example $(\".target\").navigation(\"enable\");\r\n\t */\r\n\r\n\tfunction enable(data) {\r\n\t\tdata.$handle.fsSwap(\"enable\");\r\n\t}\r\n\r\n\t/**\r\n\t * @method\r\n\t * @name disable\r\n\t * @description Disables instance.\r\n\t * @example $(\".target\").navigation(\"disable\");\r\n\t */\r\n\r\n\tfunction disable(data) {\r\n\t\tdata.$handle.fsSwap(\"disable\");\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onFocus\r\n\t * @description Handles instance focus\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onFocus(e) {\r\n\t\te.data.$handle.addClass(RawClasses.focus);\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onBlur\r\n\t * @description Handles instance blur\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onBlur(e) {\r\n\t\te.data.$handle.removeClass(RawClasses.focus);\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onKeyup\r\n\t * @description Handles keypress event on inputs\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onKeyup(e) {\r\n\t\tvar data = e.data;\r\n\r\n\t\t// If arrow keys\r\n\t\tif (e.keyCode === 13 || e.keyCode === 32) {\r\n\t\t\tFunctions.killEvent(e);\r\n\r\n\t\t\tdata.$handle.trigger(Events.raw.click);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onOpen\r\n\t * @description Handles nav open event.\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onOpen(e) {\r\n\t\tif (!e.originalEvent) { // thanks IE :/\r\n\t\t\tvar data = e.data;\r\n\r\n\t\t\tif (!data.open) {\r\n\t\t\t\tdata.$el.trigger(Events.open)\r\n\t\t\t\t\t\t.attr(\"aria-hidden\", false);\r\n\r\n\t\t\t\tdata.$content.addClass(data.contentClassesOpen)\r\n\t\t\t\t\t\t\t .one(Events.click, function() {\r\n\t\t\t\t\t\t\t\tclose(data);\r\n\t\t\t\t\t\t\t });\r\n\r\n\t\t\t\tdata.$handle.attr(\"aria-expanded\", true);\r\n\r\n\t\t\t\tif (data.label) {\r\n\t\t\t\t\tdata.$handle.html(data.labels.open);\r\n\t\t\t\t}\r\n\r\n\t\t\t\taddLocks(data);\r\n\r\n\t\t\t\tdata.open = true;\r\n\r\n\t\t\t\tdata.$nav.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onClose\r\n\t * @description Handles nav close event.\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onClose(e) {\r\n\t\tif (!e.originalEvent) { // thanks IE :/\r\n\t\t\tvar data = e.data;\r\n\r\n\t\t\tif (data.open) {\r\n\t\t\t\tdata.$el.trigger(Events.close)\r\n\t\t\t\t\t\t.attr(\"aria-hidden\", true);\r\n\r\n\t\t\t\tdata.$content.removeClass(data.contentClassesOpen)\r\n\t\t\t\t\t\t\t .off(Events.namespace);\r\n\r\n\t\t\t\tdata.$handle.attr(\"aria-expanded\", false);\r\n\r\n\t\t\t\tif (data.label) {\r\n\t\t\t\t\tdata.$handle.html(data.labels.closed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearLocks(data);\r\n\r\n\t\t\t\tdata.open = false;\r\n\r\n\t\t\t\tdata.$el.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onEnable\r\n\t * @description Handles nav enable event.\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onEnable(e) {\r\n\t\tvar data = e.data;\r\n\r\n\t\tdata.$el.attr(\"aria-hidden\", true);\r\n\t\tdata.$handle.attr(\"aria-controls\", data.ariaId)\r\n\t\t\t\t\t.attr(\"aria-expanded\", false);\r\n\t\tdata.$content.addClass(RawClasses.enabled);\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tdata.$animate.addClass(RawClasses.animated);\r\n\t\t}, 0);\r\n\r\n\t\tif (data.label) {\r\n\t\t\tdata.$handle.html(data.labels.closed);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onDisable\r\n\t * @description Handles nav disable event.\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\tfunction onDisable(e) {\r\n\t\tvar data = e.data;\r\n\r\n\t\tdata.$el.removeAttr(\"aria-hidden\");\r\n\t\tdata.$handle.removeAttr(\"aria-controls\")\r\n\t\t\t\t\t.removeAttr(\"aria-expanded\");\r\n\t\tdata.$content.removeClass(RawClasses.enabled, RawClasses.animated);\r\n\t\tdata.$animate.removeClass(RawClasses.animated);\r\n\r\n\t\trestoreLabel(data);\r\n\r\n\t\tclearLocks(data);\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name addLocks\r\n\t * @description Locks scrolling\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction addLocks(data) {\r\n\t\tif (!data.isToggle) {\r\n\t\t\t$Locks.addClass(RawClasses.lock);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name clearLocks\r\n\t * @description Unlocks scrolling\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction clearLocks(data) {\r\n\t\tif (!data.isToggle) {\r\n\t\t\t$Locks.removeClass(RawClasses.lock);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name cacheLabel\r\n\t * @description Sets handle labels\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction cacheLabel(data) {\r\n\t\tif (data.label) {\r\n\t\t\tif (data.$handle.length > 1) {\r\n\t\t\t\tdata.originalLabel = [];\r\n\r\n\t\t\t\tfor (var i = 0, count = data.$handle.length; i < count; i++) {\r\n\t\t\t\t\tdata.originalLabel[i] = data.$handle.eq(i).html();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdata.originalLabel = data.$handle.html();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name restoreLabel\r\n\t * @description restores handle labels\r\n\t * @param data [object] \"Instance data\"\r\n\t */\r\n\r\n\tfunction restoreLabel(data) {\r\n\t\tif (data.label) {\r\n\t\t\tif (data.$handle.length > 1) {\r\n\t\t\t\tfor (var i = 0, count = data.$handle.length; i < count; i++) {\r\n\t\t\t\t\tdata.$handle.eq(i).html(data.originalLabel[i]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdata.$handle.html(data.originalLabel);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @method private\r\n\t * @name onDocumentFocus\r\n\t * @description Handles document focus\r\n\t * @param e [object] \"Event data\"\r\n\t */\r\n\r\n\t// function onDocumentFocus(e) {\r\n\t// \tvar target = e.target,\r\n\t// \t\tdata   = e.data;\r\n\t//\r\n\t// \tif (data.open && !$.contains(data.$nav, target) && target !== data.$nav[0] && target !== data.$handle[0]) {\r\n\t// \t\tFunctions.killEvent(e);\r\n\t//\r\n\t// \t\tdata.$nav.focus();\r\n\t// \t}\r\n\t// }\r\n\r\n\t/**\r\n\t * @plugin\r\n\t * @name Navigation\r\n\t * @description A jQuery plugin for simple responsive navigation.\r\n\t * @type widget\r\n\t * @main navigation.js\r\n\t * @main navigation.css\r\n\t * @dependency jQuery\r\n\t * @dependency core.js\r\n\t * @dependency mediaquery.js\r\n\t * @dependency swap.js\r\n\t */\r\n\r\n\tvar Plugin = Formstone.Plugin(\"navigation\", {\r\n\t\t\twidget: true,\r\n\r\n\t\t\t/**\r\n\t\t\t * @options\r\n\t\t\t * @param customClass [string] <''> \"Class applied to instance\"\r\n\t\t\t * @param gravity [string] <'left'> \"Gravity of 'push', 'reveal' and 'overlay' navigation; 'right', 'left'\"\r\n\t\t\t * @param label [boolean] <true> \"Display handle width label\"\r\n\t\t\t * @param labels.closed [string] <'Menu'> \"Closed state text\"\r\n\t\t\t * @param labels.open [string] <'Close'> \"Open state text\"\r\n\t\t\t * @param maxWidth [string] <'980px'> \"Width at which to auto-disable plugin\"\r\n\t\t\t * @param theme [string] <\"fs-light\"> \"Theme class name\"\r\n\t\t\t * @param type [string] <'toggle'> \"Type of navigation; 'toggle', 'push', 'reveal', 'overlay'\"\r\n\t\t\t */\r\n\r\n\t\t\tdefaults: {\r\n\t\t\t\tcustomClass    : \"\",\r\n\t\t\t\tgravity        : \"left\",\r\n\t\t\t\tlabel          : true,\r\n\t\t\t\tlabels: {\r\n\t\t\t\t\tclosed     : \"Menu\",\r\n\t\t\t\t\topen       : \"Close\"\r\n\t\t\t\t},\r\n\t\t\t\tmaxWidth       : \"980px\",\r\n\t\t\t\ttheme          : \"fs-light\",\r\n\t\t\t\ttype           : \"toggle\"\r\n\t\t\t},\r\n\r\n\t\t\tclasses: [\r\n\t\t\t\t\"handle\",\r\n\t\t\t\t\"nav\",\r\n\t\t\t\t\"content\",\r\n\t\t\t\t\"animated\",\r\n\t\t\t\t\"enabled\",\r\n\t\t\t\t\"focus\",\r\n\t\t\t\t\"open\",\r\n\t\t\t\t\"toggle\",\r\n\t\t\t\t\"push\",\r\n\t\t\t\t\"reveal\",\r\n\t\t\t\t\"overlay\",\r\n\t\t\t\t\"left\",\r\n\t\t\t\t\"right\",\r\n\t\t\t\t\"lock\"\r\n\t\t\t],\r\n\r\n\t\t\t/**\r\n\t\t\t * @events\r\n\t\t\t * @event open.navigation \"Navigation opened\"\r\n\t\t\t * @event close.navigation \"Navigation closed\"\r\n\t\t\t */\r\n\r\n\t\t\tevents: {\r\n\t\t\t\topen     : \"open\",\r\n\t\t\t\tclose    : \"close\"\r\n\t\t\t},\r\n\r\n\t\t\tmethods: {\r\n\t\t\t\t_setup        : setup,\r\n\t\t\t\t_construct    : construct,\r\n\t\t\t\t_destruct     : destruct,\r\n\r\n\t\t\t\t// Public Methods\r\n\r\n\t\t\t\topen          : open,\r\n\t\t\t\tclose         : close,\r\n\t\t\t\tenable        : enable,\r\n\t\t\t\tdisable       : disable\r\n\t\t\t}\r\n\t\t}),\r\n\r\n\t\t// Localize References\r\n\r\n\t\tNamespace     = Plugin.namespace,\r\n\t\tClasses       = Plugin.classes,\r\n\t\tRawClasses    = Classes.raw,\r\n\t\tEvents        = Plugin.events,\r\n\t\tFunctions     = Plugin.functions,\r\n\t\t// $Body         = null,\r\n\r\n\t\t// Internal\r\n\r\n\t\t$Locks        = null;\r\n\r\n})\r\n\r\n);\r\n","/*! formstone v1.3.3 [swap.js] 2017-04-18 | GPL-3.0 License | formstone.it */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\",\"./core\",\"./mediaquery\"],a):a(jQuery,Formstone)}(function(a,b){\"use strict\";function c(b){b.enabled=!1,b.active=!1,b.classes=a.extend(!0,{},m,b.classes),b.target=this.data(l+\"-target\"),b.$target=a(b.target).addClass(b.classes.raw.target),b.mq=\"(max-width:\"+(b.maxWidth===1/0?\"100000px\":b.maxWidth)+\")\";var c=this.data(l+\"-linked\");b.linked=!!c&&\"[data-\"+l+'-linked=\"'+c+'\"]';var d=this.data(l+\"-group\");b.group=!!d&&\"[data-\"+l+'-group=\"'+d+'\"]',b.$swaps=a().add(this).add(b.$target),this.on(n.click+b.dotGuid,b,j)}function d(b){b.collapse||!b.group||a(b.group).filter(\"[data-\"+l+\"-active]\").length||a(b.group).eq(0).attr(\"data-\"+l+\"-active\",\"true\"),b.onEnable=this.data(l+\"-active\")||!1,a.fsMediaquery(\"bind\",b.rawGuid,b.mq,{enter:function(){h.call(b.$el,b,!0)},leave:function(){i.call(b.$el,b,!0)}})}function e(b){a.fsMediaquery(\"unbind\",b.rawGuid),b.$swaps.removeClass([b.classes.raw.enabled,b.classes.raw.active].join(\" \")).off(n.namespace)}function f(b,c){if(b.enabled&&!b.active){b.group&&!c&&a(b.group).not(b.$el).not(b.linked)[k.namespaceClean](\"deactivate\",!0);var d=b.group?a(b.group).index(b.$el):null;b.$swaps.addClass(b.classes.raw.active),c||b.linked&&a(b.linked).not(b.$el)[k.namespaceClean](\"activate\",!0),this.trigger(n.activate,[d]),b.active=!0}}function g(b,c){b.enabled&&b.active&&(b.$swaps.removeClass(b.classes.raw.active),c||b.linked&&a(b.linked).not(b.$el)[k.namespaceClean](\"deactivate\",!0),this.trigger(n.deactivate),b.active=!1)}function h(b,c){b.enabled||(b.enabled=!0,b.$swaps.addClass(b.classes.raw.enabled),c||a(b.linked).not(b.$el)[k.namespaceClean](\"enable\"),this.trigger(n.enable),b.onEnable?(b.active=!1,f.call(this,b)):(b.active=!0,g.call(this,b)))}function i(b,c){b.enabled&&(b.enabled=!1,b.$swaps.removeClass([b.classes.raw.enabled,b.classes.raw.active].join(\" \")),c||a(b.linked).not(b.$el)[k.namespaceClean](\"disable\"),this.trigger(n.disable))}function j(a){o.killEvent(a);var b=a.data;b.active&&b.collapse?g.call(b.$el,b):f.call(b.$el,b)}var k=b.Plugin(\"swap\",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:[\"target\",\"enabled\",\"active\"],events:{activate:\"activate\",deactivate:\"deactivate\",enable:\"enable\",disable:\"disable\"},methods:{_construct:c,_postConstruct:d,_destruct:e,activate:f,deactivate:g,enable:h,disable:i}}),l=k.namespace,m=k.classes,n=k.events,o=k.functions});","$(\"nav\").navigation({\n\tcustomClass    : \"\",\n\tgravity        : \"left\",\n\tlabel          : true,\n\tlabels: {\n\t\tclosed     : \"Explore\",\n\t\topen       : \"Close\"\n\t},\n\tmaxWidth       : \"9000px\",\n\ttheme          : \"fs-light\",\n\ttype           : \"toggle\"\n});\n\n$(\"nav\").on(\"open.navigation\", function() {\n    $(\".nav__menu-icon\").addClass(\"nav__menu-icon--menu-is-active\");\n}).on(\"close.navigation\", function() {\n    $(\".nav__menu-icon\").removeClass(\"nav__menu-icon--menu-is-active\");\n});"]}